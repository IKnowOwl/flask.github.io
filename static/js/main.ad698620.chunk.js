(this.webpackJsonprf_app=this.webpackJsonprf_app||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),s=n(26),a=n.n(s),r=(n(35),n.p+"static/media/logo.6ce24c58.svg"),i=(n(36),n(12)),j=n(8),l=n(30),b=n(27),u=Object(b.createAuthProvider)({accessTokenKey:"access_token",onUpdateToken:function(e){return fetch("https://floating-waters-03184.herokuapp.com/api/refresh",{method:"POST",body:e.access_token}).then((function(e){return e.json()}))}}),d=Object(j.a)(u,4),p=d[0],h=(d[1],d[2]),O=d[3],f=n(2),x=n(1),g=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],o=t[1],s=Object(c.useState)(""),a=Object(j.a)(s,2),r=a[0],i=a[1],l=p(),b=Object(j.a)(l,1)[0];return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Login"}),b?Object(x.jsx)(f.a,{to:"/upload"}):Object(x.jsxs)("form",{action:"#",children:[Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"text",placeholder:"Username",onChange:function(e){o(e.target.value)},value:n})}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){i(e.target.value)},value:r})}),Object(x.jsx)("button",{onClick:function(e){e.preventDefault(),console.log("You pressed login");var t={username:n,password:r};console.log(t),fetch("https://floating-waters-03184.herokuapp.com//api/login",{method:"post",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.access_token?(h(e),alert("Your token is "+e.access_token),console.log(e)):(alert("Credentials by you are wrong."),console.log("Please type in correct username/password"))}))},type:"submit",children:"Login Now"})]})]})},m=(n(44),n(29)),v=n.n(m),y=function(){var e=Object(f.g)(),t=Object(c.useState)(null),n=Object(j.a)(t,2),o=n[0],s=n[1];return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{onSubmit:function(){(new FormData).append("pic",o,o.name),e.push({pathname:"/AfterUpload",state:{selectedFile:o}})},children:[Object(x.jsx)("input",{type:"file",onChange:function(e){s(e.target.files[0])},required:!0}),Object(x.jsx)("button",{type:"submit",children:"Upload"})]})})},k=function(){var e=Object(f.h)(),t=URL.createObjectURL(e.state.selectedFile),n=Object(c.useState)(t),o=Object(j.a)(n,2),s=o[0],a=(o[1],{width:400,height:250,scale:2,zoomPosition:"bottom",img:s});return Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{onClick:function(){return O()},children:"Logout"}),Object(x.jsx)(v.a,Object(i.a)({},a)),Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"file details:"}),Object(x.jsxs)("p",{children:["file name: ",e.state.selectedFile.name]}),Object(x.jsxs)("p",{children:["file type: ",e.state.selectedFile.type]})]})]})},w=n(10),F=function(){return Object(x.jsx)(w.a,{children:Object(x.jsx)("div",{children:Object(x.jsxs)(f.d,{children:[Object(x.jsx)(C,{path:"/upload",component:y}),Object(x.jsx)(C,{path:"/afterupload",component:k}),Object(x.jsx)(f.b,{path:"/",children:Object(x.jsx)(g,{})})]})})})},C=function(e){var t=e.component,n=Object(l.a)(e,["component"]),c=p(),o=Object(j.a)(c,1)[0];return Object(x.jsx)(f.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return o?Object(x.jsx)(t,Object(i.a)({},e)):Object(x.jsx)(f.a,{to:"/login"})}}))};var S=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)("header",{className:"App-header",children:[Object(x.jsx)("img",{src:r,className:"App-logo",alt:"logo"}),Object(x.jsx)("p",{children:" Welcome to React-Flask App "}),Object(x.jsx)(F,{})]})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),s(e),a(e)}))};a.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(S,{})}),document.getElementById("root")),L()}},[[64,1,2]]]);
//# sourceMappingURL=main.ad698620.chunk.js.map