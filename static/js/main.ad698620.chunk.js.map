{"version":3,"sources":["logo.svg","auth/index.js","Components/Login.js","Components/Photo.js","Pages/page.js","App.js","reportWebVitals.js","index.js"],"names":["createAuthProvider","accessTokenKey","onUpdateToken","token","fetch","method","body","access_token","then","r","json","useAuth","login","logout","Login","useState","username","setUsername","password","setPassword","logged","to","action","type","placeholder","onChange","e","target","value","onClick","preventDefault","console","log","opts","JSON","stringify","alert","Upload","history","useHistory","selectedFile","setSelectedFile","onSubmit","FormData","append","name","push","pathname","state","files","required","AfterUpload","location","useLocation","objectUrl","URL","createObjectURL","imageSrc","props","width","height","scale","zoomPosition","img","ImageApp","path","component","PrivateRoute","Component","rest","render","App","className","src","logo","alt","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ad698620.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import {createAuthProvider} from 'react-token-auth';\n\n\nexport const [useAuth, authFetch, login, logout] =\n    createAuthProvider({\n        accessTokenKey: 'access_token',\n        onUpdateToken: (token) => fetch('https://floating-waters-03184.herokuapp.com/api/refresh', {\n            method: 'POST',\n            body: token.access_token\n        })\n        .then(r => r.json())\n    });\n\n","import React, { useState, useEffect } from \"react\";\nimport {login, useAuth, authFetch, logout} from \"../auth\"\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n  Link\n} from \"react-router-dom\";\n\n\nexport const Login = ()=> {\n    const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const onSubmitClick = (e)=>{\n    e.preventDefault()\n    console.log(\"You pressed login\")\n    let opts = {\n      'username': username,\n      'password': password\n    }\n    console.log(opts)\n    fetch('https://floating-waters-03184.herokuapp.com//api/login', {\n      method: 'post',\n      body: JSON.stringify(opts)\n    }).then(r => r.json())\n      .then(token => {\n        if (token.access_token){\n            login(token)\n            alert(\"Your token is \"+token.access_token)\n          console.log(token)          \n        }\n        else {\n            alert(\"Credentials by you are wrong.\")\n          console.log(\"Please type in correct username/password\")\n        }\n      })\n  }\n\n  const handleUsernameChange = (e) => {\n    setUsername(e.target.value)\n  }\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value)\n  }\n    const [logged] = useAuth();\n\n  return (\n    <div>\n      <h2>Login</h2>\n      {!logged? <form action=\"#\">\n        <div>\n          <input type=\"text\" \n            placeholder=\"Username\" \n            onChange={handleUsernameChange}\n            value={username} \n          />\n        </div>\n        <div>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={handlePasswordChange}\n            value={password}\n          />\n        </div>\n        <button onClick={onSubmitClick} type=\"submit\">\n          Login Now\n        </button>\n      </form>\n          : <Redirect to='/upload' /> }\n    </div>\n  )\n}\n\n","import React, {useState, Component } from \"react\";\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom'\nimport ReactImageZoom from 'react-image-zoom';\nimport {login, useAuth, authFetch, logout} from \"../auth\";\nimport { useLocation } from 'react-router-dom'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n  Link\n} from \"react-router-dom\";\n\nexport const Upload = () => {\n    const history = useHistory()\n    const [selectedFile, setSelectedFile] = useState(null)\n    const onFileChange = e => {\n        setSelectedFile(e.target.files[0])\n    }\n    const onFileUpload = () => {\n        const formData = new FormData()\n        formData.append('pic', selectedFile, selectedFile.name)\n        history.push({\n           pathname:'/AfterUpload',\n            state:{selectedFile}\n        })\n    \n    }\n    return (\n        <div>\n            <form onSubmit={onFileUpload}>\n                <input type=\"file\" onChange={onFileChange} required/>\n                <button type=\"submit\">Upload</button>\n            </form>\n        </div>\n    )\n}\n\nexport const AfterUpload = () => {\n    const location = useLocation()\n    const objectUrl = URL.createObjectURL(location.state.selectedFile)\n    const [imageSrc, setImageSrc] = useState(objectUrl)\n    \n    const fileData = () => {       \n        return(\n            <div>\n                <h2>file details:</h2>\n                <p>file name: {location.state.selectedFile.name}</p>\n                <p>file type: {location.state.selectedFile.type}</p>\n            </div>\n        )  \n    }\n    const props = { width: 400, height: 250, scale:2,zoomPosition: 'bottom', img:imageSrc}\n    return (\n\n        <div>\n         <button onClick={() => logout()}>Logout</button>\n            <ReactImageZoom {...props}/>\n            {fileData()}\n        </div>\n    )\n}\n","import React, { useEffect } from \"react\";\nimport { Login } from \"../Components/Login\";\nimport { Upload , AfterUpload } from \"../Components/Photo\";\nimport {login, useAuth, logout} from \"../auth\"\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n  Link\n} from \"react-router-dom\";\n\nexport const ImageApp = ()=> {\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <PrivateRoute path=\"/upload\" component={Upload} />\n          <PrivateRoute path=\"/afterupload\" component={AfterUpload} />\n          <Route path=\"/\">\n            <Login />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const [logged] = useAuth();\n\n  return <Route {...rest} render={(props) => (\n    logged\n      ? <Component {...props} />\n      : <Redirect to='/login' />\n  )} />\n}\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { ImageApp } from './Pages/page'\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p> Welcome to React-Flask App </p>\n        <ImageApp />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}